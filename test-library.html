<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    
    <title>Metric SDK Demo</title>
  </head>
  <body>

    <form class="container mt-5" onsubmit="(e => e.preventDefault())()">
        <div class="form-group row">
          <label for="" class="col-sm-2 col-form-label">Card Number</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="card" placeholder="GHA-000000000-0">
          </div>
        </div>
        <div class="form-group row">
          <label for="inputPassword" class="col-sm-2 col-form-label">Reference</label>
          <div class="col-sm-10">
            <input type="number" class="form-control" id="reference" placeholder="Reference">
          </div>
        </div>
        <div class="form-group row">
          <label for="" class="col-sm-2 col-form-label">Purpose</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="purpose" placeholder="Purpose">
          </div>
        </div>
        <div class="form-group row">
          <label for="inputPassword" class="col-sm-2 col-form-label">Phone Number</label>
          <div class="col-sm-10">
            <input type="number" class="form-control" id="phone" placeholder="Phone Number">
          </div>
        </div>
        <button type="button" onclick="verifyUser()" class="btn btn-primary">Submit</button>
      </form>
    

    <script type="text/javascript" src="https://sdk.dev.metric.africa/v1"></script>
    <script>
        
        const metric = new window.Metric({
            client_id: "XXXXXXXX",
            client_secret: "XXXXXXXX"
        })

        const verifyUser = () => {
          const card_number = document.getElementById("card").value;
          const reference_id = document.getElementById("reference").value;
          const purpose = document.getElementById("purpose").value;
          const phone_number = document.getElementById("phone").value;

          metric.verify(
            "ghana_card",
            {
                card_number,
                reference_id,
                purpose,
                phone_number
            },
            (results) => {
                alert(results.status, results.transaction_number);
            }
        );
        }



    </script>
  </body>
</html>